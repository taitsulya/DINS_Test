# REST API по работе с пользователями и их телефонной книжкой

### Инструкция по запуску

Для запуска нужен maven и java 11.
1. Скачать архив с проектом, разархивировать
2. В корневой директории запустить команду для сборки проекта 
```
mvn clean install -DskipTests=true
```
3. В корневой директории запустить команду для запуска сервера 
```
java -jar target/DINS_Test-1.0-SNAPSHOT.jar
```

#### GET
/api/users - получение списка всех пользователей (владельцев телефонных книжек). Возвращает список пользователей

Optional parameters: firstName, lastName - для поиска пользователей по имени (или его части)

#### POST
/api/users - создание пользователя. Отправляет данные о пользователе в теле запроса (firstName, lastName, phoneNumber). Возвращает ответ, содержащий в теле созданного пользователя, и статус 201 - created  

#### GET
/api/users/{userId} - получение пользователя по id. Если пользователь с заданным userId существует, возвращает этого пользователя, иначе возвращает null

#### DELETE
/api/users/{userId} - удаление пользователя по id. Возвращает статус 204 - no content

#### PUT
/api/users/{userId} - редактирование пользователя по id. Отправляет данные об изменении пользователя в теле запроса (firstName, lastName, phoneNumber). Если пользователь с заданным userId существует, возвращает этого пользователя с измененными значениями, иначе создает нового пользователя и возвращает его 

#### GET
/api/users/{userId}/records - получение списка всех записей в телефонной книжке пользователя. Возвращает список записей по идентификатору пользователя

#### POST
/api/users/{userId}/records - создание записи в телефонной книжке пользователя. Отправляет данные о записи в теле запроса. Если пользователь с заданным userId существует, возвращает ответ, содержащий в теле созданную запись, и статус 201 - created, иначе возвращает ответ со статусом 400 - bad request

#### GET
/api/records - получение списка всех записей. Возвращает список записей

Optional parameter: phoneNumber - для поиска телефонной записи по номеру телефона

#### POST
/api/records - создание записи в телефонной книжке пользователя. Отправляет данные о записи в теле запроса. Если в качестве параметра owner передан идентификатор существующего пользователя, возвращает ответ, содержащий в теле созданную запись, и статус 201 - created, иначе возвращает ответ со статусом 400 - bad request

#### GET
/api/records/{recordId} - получение записи в телефонной книжке по id. Если запись с заданным recordId существует, возвращает эту запись, иначе возвращает null

#### PUT
/api/records/{recordId} - редактирование записи по id. Отправляет данные об изменениях записи в теле запроса. Если запись с заданным recordId существует, возвращает эту запись с измененными значениями, иначе, в случае, если в качестве параметра owner передан идентификатор существующего пользователя, создает новую запись и возвращает её, иначе возвращает null


#### DELETE
/api/records/{recordId} - удаление записи по id. Возвращает статус 204 - no content
